#include <stdio.h>

#define NO 0
#define YES 1

int main() 
{
	FILE *fpin;
	FILE *fpout;
	char line[1000];
	char *ptr;
	char *del;
	char *start;
	int flag = NO;

	fpin = fopen( "test.txt", "rt" );
	if( !fpin )
		return 1;

	fpout = fopen( "result.txt", "wt" );
	if( !fpout )
		return 1;

	while( ptr = fgets( line, 1000, fpin ) )
	{
		start = ptr;
		del = ptr;

		ptr--;
		do
		{
			ptr++;

			if( *ptr >= '0' && *ptr <= '9' )
			{
				if( !flag )
					start = ptr;

				if( *(start - 1) == ' ' || start == line )
					flag = YES;
			}
			else
			{
				if( ( *ptr == ' ' || *ptr == '\0' ) && flag )
				{
					del = start;
					while( *del++ = *ptr++ );
					ptr = start;
				}
				flag = NO;
			}
		} while( *ptr );

		fputs(line, fpout);
	}
	fcloseall();
	return 0;
}
